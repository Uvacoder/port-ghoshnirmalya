<!DOCTYPE html>
<html lang="en">

<head>
	<title>Automate the Backend stuffs with Strapi and Docker</title>

	<link rel="icon" type="image/x-icon" href="https://nirmalyaghosh.com/images/common/favicon.svg">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="title" content="Automate the Backend stuffs with Strapi and Docker">
	<meta name="description" content="Learn how to get started with Strapi which is an Open Source Headless CMS using Docker.">
	<meta name="keywords" content="engineering, software, code">
	<meta name="robots" content="index, follow">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="language" content="English">
	<meta name="author" content="Nirmalya Ghosh">

	<meta property="og:type" content="website">
	<meta property="og:url" content="https://www.nirmalyaghosh.com">
	<meta property="og:title" content="Automate the Backend stuffs with Strapi and Docker">
	<meta property="og:description" content="Learn how to get started with Strapi which is an Open Source Headless CMS using Docker.">
	<meta property="og:image" content="https://nirmalyaghosh.com/images/common/seo-cover.png">

	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://www.nirmalyaghosh.com">
	<meta property="twitter:title" content="Nirmalya Ghosh">
	<meta property="twitter:description" content="Learn how to get started with Strapi which is an Open Source Headless CMS using Docker.">
	<meta property="twitter:image" content="https://nirmalyaghosh.com/images/common/seo-cover.png">
<link rel="stylesheet" href="/assets/523a4829.4a78f79c.css" /><script>!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[])})(window,'partytown','forward');/* Partytown 0.4.5 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(w,1e4),e.addEventListener("pt0",f),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):w())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.4.5":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function w(t,n){for(f(),t=0;t<s.length;t++)(n=e.createElement("script")).innerHTML=s[t].innerHTML,e.head.appendChild(n);c&&c.parentNode.removeChild(c)}function f(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script></head>

<body class=" space-y-8">
	<nav class="p-4 max-w-2xl mx-auto w-full flex justify-between items-center">
  <div class="space-x-4">
    <a href="/" class="py-2 px-4 bg-black text-white text-sm no-underline rounded">/</a>
    <a href="/projects" class="text-sm text-black">/projects</a>
    <a href="/articles" class="text-sm text-black">/articles</a>
  </div>
  <div>
    <a href="https://twitter.com/NirmalyaGhosh_" target="_blank" class="py-2 px-4 bg-black text-white text-sm no-underline rounded">Follow</a>
  </div>
</nav>
	<article class="p-4 max-w-2xl mx-auto prose prose-a:text-blue-600 hover:prose-a:text-blue-500 prose-a:no-underline prose-img:rounded-md prose-pre:border prose-pre:text-sm prose-pre:leading-6 prose-code:font-normal">
		<h1>Automate the Backend stuffs with Strapi and Docker</h1>
		<h2>Learn how to get started with Strapi which is an Open Source Headless CMS using Docker.</h2>

		<p>In this tutorial, we'll learn about the problems (related to saving our data) that we face while developing front-end applications. We'll explore an open source headless CMS, <a href="https://strapi.io/" target="_blank" rel="nofollow noopener noreferrer">Strapi</a>. We'll also learn about how to install and get started with Strapi using <a href="https://www.docker.com/" target="_blank" rel="nofollow noopener noreferrer">Docker</a>.</p><p>One of the aspects that always tend to be a blocker to me while developing front-end applications is the need for a ways to save the data from the front-end. In the past, I've use <a href="https://firebase.google.com/" target="_blank" rel="nofollow noopener noreferrer">Firebase</a> for saving my data to the database. However, it becomes difficult to manage this as Firebase has strict <a href="https://firebase.google.com/docs/firestore/manage-data/data-types" target="_blank" rel="nofollow noopener noreferrer">data types</a> as well as issues with <a href="https://itnext.io/lessons-from-a-long-week-with-firebase-b433ce8ee49e" target="_blank" rel="nofollow noopener noreferrer">scaling</a>, <a href="https://crisp.chat/blog/why-you-should-never-use-firebase-realtime-database/" target="_blank" rel="nofollow noopener noreferrer">pricing</a>, etc. For small apps and projects, Firebase works perfectly fine. However, for bigger apps, it presents its own set of problems. For those who don't know, Firebase is Google's mobile platform that helps you quickly develop high-quality apps and grow your business.</p><p>As a result, I was trying to find an alternate tool which would take care of the back-end. Recently, I came across <a href="https://strapi.io/" target="_blank" rel="nofollow noopener noreferrer">Strapi</a> which is an open source Headless CMS. It's very easy to <a href="https://strapi.io/documentation/3.0.0-beta.x/getting-started/quick-start.html" target="_blank" rel="nofollow noopener noreferrer">get started with Strapi</a>. Also, it has a nice set of plugins in their <a href="https://strapi.io/marketplace" target="_blank" rel="nofollow noopener noreferrer">marketplace</a>.</p><blockquote>
<p>I'll also write about <a href="https://hasura.io/" target="_blank" rel="nofollow noopener noreferrer">Hasura</a> which connects to our databases & microservices and instantly gives us a production-ready GraphQL API. It's another tool that I found which takes care of the back-end.</p>
</blockquote><h2 id="getting-started-with-strapi">Getting started with Strapi</h2><p>We'll be using the <a href="https://github.com/strapi/strapi-docker" target="_blank" rel="nofollow noopener noreferrer">Docker version of Strapi</a>. This will help us manage the database inside a containerized environment. In case our database gets corrupted, we can remove the container and re-build it again. There are many other advantages of using Docker. Instructions for installing Docker can be obtained from the <a href="https://docs.docker.com/v17.09/engine/installation/" target="_blank" rel="nofollow noopener noreferrer">Docker documentation</a>. Once the Docker installation is complete, we can proceed towards installing Strapi. We'll be using Postgres as our database. But, we can also use <a href="https://strapi.io/documentation/3.0.0-beta.x/guides/databases.html#sqlite-installation" target="_blank" rel="nofollow noopener noreferrer">SQLite</a>, <a href="https://strapi.io/documentation/3.0.0-beta.x/guides/databases.html#mongodb-installation" target="_blank" rel="nofollow noopener noreferrer">MongoDB</a>, MySQL and MariaDB. Example applications using these databases are present in the <a href="https://github.com/strapi/strapi-docker/tree/master/examples" target="_blank" rel="nofollow noopener noreferrer">Strapi Docker repository</a>.</p><h2 id="installing-strapi">Installing Strapi</h2><p>First, we need to create a directory named <code>backend</code> and then download the <a href="https://github.com/strapi/strapi-docker/blob/master/examples/postgresql/docker-compose.yml" target="_blank" rel="nofollow noopener noreferrer">docker-compose.yml</a> file from the <a href="https://github.com/strapi/strapi-docker" target="_blank" rel="nofollow noopener noreferrer">strapi-docker repository</a>. Now, we need to start Docker. Once Docker is up and running, we can go inside the <code>backend</code> directory and run our Strapi container:</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #6CB6FF">cd</span><span style="color: #ADBAC7"> backend </span><span style="color: #F47067">&amp;&amp;</span><span style="color: #ADBAC7"> docker-compose up</span></span></code></pre><p>This will pull <strong>postgres</strong> and <strong>strapi/strapi</strong> images from <a href="https://hub.docker.com/" target="_blank" rel="nofollow noopener noreferrer">Docker Hub</a>. So, it might take some time for this operation to complete. Once, everything is done, we'll get the following output:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/1.png" alt="Message shown on completing Strapi installation" width="1544" height="954" loading="lazy"></p><h2 id="creating-our-first-administrator-profile">Creating our first administrator profile</h2><p>We can now visit <a href="http://localhost:1337/admin" target="_blank" rel="nofollow noopener noreferrer">http://localhost:1337/admin</a> to create our first administrator. On visiting that url, we'll get the following form:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/2.png" alt="Form for creating an administrator" width="4560" height="2227" loading="lazy"></p><p>Once we fill up the form with the required details, we'll be inside the admin panel of Strapi:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/3.png" alt="Strapi admin panel" width="4560" height="2227" loading="lazy"></p><p>Once we're here, it means that our Strapi installation went perfectly fine and everytime Strapi asks us for login credentials, we can login to the admin panel using the credentials we provided while creating the administrator.</p><h2 id="adding-a-new-content-type">Adding a new content-type</h2><p>By default, we should have three content-types: <strong>Permission</strong>, <strong>Role</strong> and <strong>User</strong>.</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/4.png" alt="Default content-types" width="4560" height="2227" loading="lazy"></p><p>Now, we want to add a <strong>Product</strong> content-type. To do so, we need to click on the</p><p><strong>Create new content-type</strong> link. In the <strong>Display Name</strong> field, we can type <strong>Product</strong>:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/5.png" alt="Adding a new content-type" width="4560" height="2227" loading="lazy"></p><p>Then, we can click on <strong>Continue</strong> to add fields for that content-type:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/6.png" alt="Adding fields for a new content-type" width="4560" height="2227" loading="lazy"></p><p>We'll add a new <strong>Text</strong> field and call it <strong>name</strong> and select <strong>Short text</strong> as its <strong>type</strong>:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/7.png" alt="Adding Name text field for Product content-type" width="4560" height="2227" loading="lazy"></p><p>We'll add another <strong>Text</strong> field and call it <strong>url</strong> and select <strong>Short text</strong> as its <strong>type</strong>:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/8.png" alt="Adding URL text field for Product content-type" width="4560" height="2227" loading="lazy"></p><p>We'll add another <strong>Text</strong> field and call it <strong>description</strong> and select <strong>Long text</strong> as its <strong>type</strong>:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/9.png" alt="Adding Description text field for Product content-type" width="4560" height="2227" loading="lazy"></p><p>We'll add a <strong>Media</strong> field and call it <strong>image</strong> and select <strong>Single media</strong> as its <strong>type</strong>:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/10.png" alt="Adding Image media field for Product content-type" width="4560" height="2227" loading="lazy"></p><p>We can now click on the <strong>Finish</strong> button and then, we need to click on the <strong>Save</strong> button to save our new content-type.</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/11.png" alt="Saving our Product content-type" width="4560" height="2227" loading="lazy"></p><p>When we click on the <strong>Save</strong> button, the Strapi server will automatically restart:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/12.png" alt="Restarting the Strapi server" width="4560" height="2227" loading="lazy"></p><p>Once the server restarts completely, we can see our new Product content-type on the sidebar:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/13.png" alt="Viewing the entries for Product content-type" width="4560" height="2227" loading="lazy"></p><p>The Product content-type won't have any entries at the moment as we haven't added any entry yet! We can click on <strong>Add New Product</strong> button to add a new entry to the Product content-type:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/14.png" alt="Adding a new entry for Product content-type" width="4560" height="2227" loading="lazy"></p><p>We can add the details of our product and then click on the <strong>Save</strong> button to save the entry:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/15.png" alt="All entries for Product content-type" width="4560" height="2227" loading="lazy"></p><h2 id="viewing-entries-of-a-content-type">Viewing entries of a content-type</h2><p>Strapi generates <a href="https://strapi.io/documentation/3.0.0-beta.x/concepts/routing.html#concept" target="_blank" rel="nofollow noopener noreferrer">routes</a> for our content-types automatically. But, if we visit <a href="http://localhost:1337/products" target="_blank" rel="nofollow noopener noreferrer">http://localhost:1337/products</a>, we'd get a <strong>403</strong> response. This happens as our permission isn't set up for that content-type. To resolve this issue, we need to visit <strong>Roles & Permissions</strong> tab and click on the <strong>Public</strong> role:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/16.png" alt="Add Public role for Product content-type" width="4560" height="2227" loading="lazy"></p><p>In the Public role tab, we need to find <strong>Product</strong> inside the <strong>Permissions</strong> tab. We need to allow all operations on the Product content-type. We can do so by selecting all the operations (count, create, delete, find, findone and update) or by clicking on <strong>Select All</strong> checkbox.</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/17.png" alt="Update permissions for Product content-type" width="4560" height="2227" loading="lazy"></p><p>Next, we need to click on the <strong>Save</strong> button on the top right. Now, if we visit <a href="http://localhost:1337/products" target="_blank" rel="nofollow noopener noreferrer">http://localhost:1337/products</a>, we'd get a proper response:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/18.png" alt="Entries for Product content-type" width="2048" height="1424" loading="lazy"></p><h2 id="creating-a-new-entry-for-a-content-type">Creating a new entry for a content-type</h2><p>Based on the permission we've set for the Product content-type, We can also create new entries using the API. We'll be using the <a href="https://www.getpostman.com/" target="_blank" rel="nofollow noopener noreferrer">Postman</a> tool to create a new Product entry.</p><p>We just need to do a <strong>POST</strong> request to <a href="http://localhost:1337/products" target="_blank" rel="nofollow noopener noreferrer">http://localhost:1337/products</a> endpoint with the following request body:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/19.png" alt="Creating a new entry for Product content-type" width="2048" height="626" loading="lazy"></p><p>We would get the following response once the entry is created:</p><p><img src="/images/content/automate-backend-stuffs-with-strapi-and-docker/20.png" alt="Response for creating an entry for Product content-type" width="2048" height="794" loading="lazy"></p><h2 id="conclusion">Conclusion</h2><p>We've leveraged Strapi, a Headless CMS to design the APIs for our back-end application. In the subsequest tutorials, we'd utlize these APIs to build front-end applications.</p><p>I hope that this tutorial helps you in your future projects.</p>

	</article>
</body></html>