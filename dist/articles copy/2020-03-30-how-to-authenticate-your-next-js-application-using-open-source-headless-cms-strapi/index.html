<!DOCTYPE html>
<html lang="en">

<head>
	<title>Authenticate your Next.js application using Strapi</title>

	<link rel="icon" type="image/x-icon" href="https://nirmalyaghosh.com/images/common/favicon.svg">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="title" content="Authenticate your Next.js application using Strapi">
	<meta name="description" content="Learn how to authenticate a front-end application using Next.js and Strapi.">
	<meta name="keywords" content="engineering, software, code">
	<meta name="robots" content="index, follow">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="language" content="English">
	<meta name="author" content="Nirmalya Ghosh">

	<meta property="og:type" content="website">
	<meta property="og:url" content="https://www.nirmalyaghosh.com">
	<meta property="og:title" content="Authenticate your Next.js application using Strapi">
	<meta property="og:description" content="Learn how to authenticate a front-end application using Next.js and Strapi.">
	<meta property="og:image" content="https://nirmalyaghosh.com/images/common/seo-cover.png">

	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://www.nirmalyaghosh.com">
	<meta property="twitter:title" content="Nirmalya Ghosh">
	<meta property="twitter:description" content="Learn how to authenticate a front-end application using Next.js and Strapi.">
	<meta property="twitter:image" content="https://nirmalyaghosh.com/images/common/seo-cover.png">
<link rel="stylesheet" href="/assets/523a4829.4a78f79c.css" /><script>!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[])})(window,'partytown','forward');/* Partytown 0.4.5 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(w,1e4),e.addEventListener("pt0",f),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):w())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.4.5":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function w(t,n){for(f(),t=0;t<s.length;t++)(n=e.createElement("script")).innerHTML=s[t].innerHTML,e.head.appendChild(n);c&&c.parentNode.removeChild(c)}function f(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script></head>

<body class=" space-y-8">
	<nav class="p-4 max-w-2xl mx-auto w-full flex justify-between items-center">
  <div class="space-x-4">
    <a href="/" class="py-2 px-4 bg-black text-white text-sm no-underline rounded">/</a>
    <a href="/projects" class="text-sm text-black">/projects</a>
    <a href="/articles" class="text-sm text-black">/articles</a>
  </div>
  <div>
    <a href="https://twitter.com/NirmalyaGhosh_" target="_blank" class="py-2 px-4 bg-black text-white text-sm no-underline rounded">Follow</a>
  </div>
</nav>
	<article class="p-4 max-w-2xl mx-auto prose prose-a:text-blue-600 hover:prose-a:text-blue-500 prose-a:no-underline prose-img:rounded-md prose-pre:border prose-pre:text-sm prose-pre:leading-6 prose-code:font-normal">
		<h1>Authenticate your Next.js application using Strapi</h1>
		<h2>Learn how to authenticate a front-end application using Next.js and Strapi.</h2>

		<p>In this tutorial, we'll learn about how to authenticate a front-end application using <a href="https://nextjs.org/" target="_blank" rel="nofollow noopener noreferrer">Next.js</a> and <a href="https://strapi.io/" target="_blank" rel="nofollow noopener noreferrer">Strapi</a>.</p><h2 id="introduction">Introduction</h2><p>We'll start from where we finished in <a href="/articles/automate-backend-stuffs-strapi-docker">How to Automate the Backend stuffs with Open Source Headless CMS Strapi and Docker</a>. The starter code is available on <a href="https://github.com/ghoshnirmalya/product-hunt-clone-using-strapi-react-next-docker/commit/2b9c0b2440b17bb45d2dd0612d70ab6b0c9a863a" target="_blank" rel="nofollow noopener noreferrer">Github</a>. The code for Strapi project is available in the <a href="https://github.com/ghoshnirmalya/product-hunt-clone-using-strapi-react-next-docker/tree/master/backend" target="_blank" rel="nofollow noopener noreferrer">backend</a> directory and the code for Next.js is available in the <a href="https://github.com/ghoshnirmalya/product-hunt-clone-using-strapi-react-next-docker/tree/master/frontend" target="_blank" rel="nofollow noopener noreferrer">frontend</a> directory.</p><h2 id="getting-started-with-authentication">Getting started with authentication</h2><p>First, we'll build the authentication in our frontend application. To do that, we'll add a new sign up page.</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> React, { useState } </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;react&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> Head </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;next/head&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> axios </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;axios&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;../public/assets/styles/tailwind.css&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">SignUp</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> () </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> [</span><span style="color: #6CB6FF">username</span><span style="color: #ADBAC7">, </span><span style="color: #6CB6FF">setUsername</span><span style="color: #ADBAC7">] </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">useState</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;&quot;</span><span style="color: #ADBAC7">);</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> [</span><span style="color: #6CB6FF">email</span><span style="color: #ADBAC7">, </span><span style="color: #6CB6FF">setEmail</span><span style="color: #ADBAC7">] </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">useState</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;&quot;</span><span style="color: #ADBAC7">);</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> [</span><span style="color: #6CB6FF">password</span><span style="color: #ADBAC7">, </span><span style="color: #6CB6FF">setPassword</span><span style="color: #ADBAC7">] </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">useState</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;&quot;</span><span style="color: #ADBAC7">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">handleSubmit</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">async</span><span style="color: #ADBAC7"> (</span><span style="color: #F69D50">e</span><span style="color: #ADBAC7">) </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">    e.</span><span style="color: #DCBDFB">preventDefault</span><span style="color: #ADBAC7">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">    </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">res</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">await</span><span style="color: #ADBAC7"> axios.</span><span style="color: #DCBDFB">post</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;http://localhost:1337/auth/local/register&quot;</span><span style="color: #ADBAC7">, {</span></span>
<span class="line"><span style="color: #ADBAC7">      username,</span></span>
<span class="line"><span style="color: #ADBAC7">      email,</span></span>
<span class="line"><span style="color: #ADBAC7">      password,</span></span>
<span class="line"><span style="color: #ADBAC7">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">    </span><span style="color: #768390">// res.data contains data for authenticated user</span></span>
<span class="line"><span style="color: #ADBAC7">    console.</span><span style="color: #DCBDFB">log</span><span style="color: #ADBAC7">(res.data);</span></span>
<span class="line"><span style="color: #ADBAC7">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">return</span><span style="color: #ADBAC7"> (</span></span>
<span class="line"><span style="color: #ADBAC7">    &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">      &lt;</span><span style="color: #8DDB8C">Head</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">        &lt;</span><span style="color: #8DDB8C">title</span><span style="color: #ADBAC7">&gt;Sign Up&lt;/</span><span style="color: #8DDB8C">title</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">        &lt;</span><span style="color: #8DDB8C">link</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">rel</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;icon&quot;</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">href</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;/favicon.ico&quot;</span><span style="color: #ADBAC7"> /&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">      &lt;/</span><span style="color: #8DDB8C">Head</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">      &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;flex justify-center items-center h-screen bg-gray-100&quot;</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">        &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;w-full max-w-md&quot;</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">          &lt;</span><span style="color: #8DDB8C">form</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;bg-white shadow-lg rounded p-8&quot;</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;mb-4&quot;</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">label</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;block text-gray-700 text-sm font-bold mb-2&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">htmlFor</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;username&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">              &gt;</span></span>
<span class="line"><span style="color: #ADBAC7">                Username</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;/</span><span style="color: #8DDB8C">label</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">input</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;appearance-none border rounded w-full p-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">id</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;username&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">type</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;text&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">placeholder</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;John Doe&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">value</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{username}</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">onChange</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{(</span><span style="color: #F69D50">e</span><span style="color: #ADBAC7">) </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">setUsername</span><span style="color: #ADBAC7">(e.target.value)}</span></span>
<span class="line"><span style="color: #ADBAC7">              /&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;mb-4&quot;</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">label</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;block text-gray-700 text-sm font-bold mb-2&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">htmlFor</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;email&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">              &gt;</span></span>
<span class="line"><span style="color: #ADBAC7">                Email Address</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;/</span><span style="color: #8DDB8C">label</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">input</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;appearance-none border rounded w-full p-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">id</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;email&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">type</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;email&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">placeholder</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;john@doe.com&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">value</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{email}</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">onChange</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{(</span><span style="color: #F69D50">e</span><span style="color: #ADBAC7">) </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">setEmail</span><span style="color: #ADBAC7">(e.target.value)}</span></span>
<span class="line"><span style="color: #ADBAC7">              /&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;mb-8&quot;</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">label</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;block text-gray-700 text-sm font-bold mb-2&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">htmlFor</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;password&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">              &gt;</span></span>
<span class="line"><span style="color: #ADBAC7">                Password</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;/</span><span style="color: #8DDB8C">label</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">input</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;appearance-none border rounded w-full p-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">id</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;password&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">type</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;password&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">placeholder</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;********&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">value</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{password}</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">onChange</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{(</span><span style="color: #F69D50">e</span><span style="color: #ADBAC7">) </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">setPassword</span><span style="color: #ADBAC7">(e.target.value)}</span></span>
<span class="line"><span style="color: #ADBAC7">              /&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;flex items-center justify-between&quot;</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">button</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;bg-blue-500 hover:bg-blue-700 text-white font-bold py-4 px-12 rounded focus:outline-none focus:shadow-outline&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">type</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;button&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">onClick</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{handleSubmit}</span></span>
<span class="line"><span style="color: #ADBAC7">              &gt;</span></span>
<span class="line"><span style="color: #ADBAC7">                Sign Up</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;/</span><span style="color: #8DDB8C">button</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;</span><span style="color: #8DDB8C">a</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">className</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">                </span><span style="color: #6CB6FF">href</span><span style="color: #F47067">=</span><span style="color: #96D0FF">&quot;#&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">              &gt;</span></span>
<span class="line"><span style="color: #ADBAC7">                Forgot Password?</span></span>
<span class="line"><span style="color: #ADBAC7">              &lt;/</span><span style="color: #8DDB8C">a</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">          &lt;/</span><span style="color: #8DDB8C">form</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">        &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">      &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">    &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">  );</span></span>
<span class="line"><span style="color: #ADBAC7">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">export</span><span style="color: #F69D50"> </span><span style="color: #F47067">default</span><span style="color: #F69D50"> </span><span style="color: #ADBAC7">SignUp;</span></span></code></pre><h2 id="installing-necessary-dependencies">Installing necessary dependencies</h2><p>We need to install the necessary dependencies:</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #ADBAC7">yarn add axios</span></span></code></pre><p>Now, if we visit <a href="http://localhost:3000/sign-up" target="_blank" rel="nofollow noopener noreferrer">http://localhost:3000/sign-up</a>, we should see the following page:</p><p><img src="/images/content/how-to-authenticate-your-next-js-application-using-open-source-headless-cms-strapi/1.png" alt="Register page" width="4406" height="2179" loading="lazy"></p><p>If we fill in the details of the form, we can view the response from the server in the browser's console:</p><p><img src="/images/content/how-to-authenticate-your-next-js-application-using-open-source-headless-cms-strapi/2.png" alt="Create a new user" width="4402" height="2190" loading="lazy"></p><p>In the Strapi Admin Panel, we can see the new user:</p><p><img src="/images/content/how-to-authenticate-your-next-js-application-using-open-source-headless-cms-strapi/3.png" alt="Users list" width="4400" height="2201" loading="lazy"></p><h2 id="saving-user-token-in-a-cookie">Saving user token in a cookie</h2><p>Next, we need to save the token in a cookie. We'll be using a plugin <a href="https://github.com/maticzav/nookies" target="_blank" rel="nofollow noopener noreferrer">nookies</a> for handling that. So, let's install that dependency:</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #ADBAC7">yarn add nookies</span></span></code></pre><p>We need to update our <code>handleSubmit</code> method:</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> React, { useState } </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;react&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> Head </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;next/head&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> axios </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;axios&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> { setCookie } </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;nookies&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  ..</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">SignUp</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> () </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  ..</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">handleSubmit</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">async</span><span style="color: #ADBAC7"> </span><span style="color: #F69D50">e</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">    e.</span><span style="color: #DCBDFB">preventDefault</span><span style="color: #ADBAC7">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">    </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">res</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">await</span><span style="color: #ADBAC7"> axios.</span><span style="color: #DCBDFB">post</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;http://localhost:1337/auth/local/register&quot;</span><span style="color: #ADBAC7">, {</span></span>
<span class="line"><span style="color: #ADBAC7">      username,</span></span>
<span class="line"><span style="color: #ADBAC7">      email,</span></span>
<span class="line"><span style="color: #ADBAC7">      password</span></span>
<span class="line"><span style="color: #ADBAC7">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">    </span><span style="color: #DCBDFB">setCookie</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;&quot;</span><span style="color: #ADBAC7">, </span><span style="color: #96D0FF">&quot;token&quot;</span><span style="color: #ADBAC7">, res.data.jwt, {</span></span>
<span class="line"><span style="color: #ADBAC7">      maxAge: </span><span style="color: #6CB6FF">30</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">*</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">24</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">*</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">60</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">*</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">60</span><span style="color: #ADBAC7">,</span></span>
<span class="line"><span style="color: #ADBAC7">      path: </span><span style="color: #96D0FF">&quot;/&quot;</span></span>
<span class="line"><span style="color: #ADBAC7">    });</span></span>
<span class="line"><span style="color: #ADBAC7">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  ..</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">}</span></span></code></pre><p>Now, if we try to register a new user, the token will be stored in the cookie:</p><p><img src="/images/content/how-to-authenticate-your-next-js-application-using-open-source-headless-cms-strapi/4.png" alt="Storing the token in the cookie" width="4408" height="2188" loading="lazy"></p><h2 id="setting-up-permissions-for-products-api">Setting up permissions for Products API</h2><p>According to <a href="https://strapi.io/documentation/3.0.0-beta.x/plugins/users-permissions.html#token-usage" target="_blank" rel="nofollow noopener noreferrer">Strapi's Token Usage</a>, we need to send the token in the <code>Authorization</code> header.</p><p>First, we need to allow authenticated users to view all the products. To do that, we need to give all the permissions to <a href="http://localhost:1337/admin/plugins/users-permissions/roles/edit/1" target="_blank" rel="nofollow noopener noreferrer">authenticated users</a>:</p><p><img src="/images/content/how-to-authenticate-your-next-js-application-using-open-source-headless-cms-strapi/5.png" alt="Permissions for authenticated users" width="4408" height="2190" loading="lazy"></p><p>If we do <code>GET http://localhost:1337/products</code>, we'll get an error:</p><p><img src="/images/content/how-to-authenticate-your-next-js-application-using-open-source-headless-cms-strapi/6.png" alt="Error for non-authenticated users" width="4408" height="2310" loading="lazy"></p><p>We need to send the token in the <code>Authorization</code> header to get the proper data:</p><p><img src="/images/content/how-to-authenticate-your-next-js-application-using-open-source-headless-cms-strapi/6.png" alt="Successful response for authenticated users" width="4408" height="2310" loading="lazy"></p><h2 id="redirecting-users-to-index-page-for-authenticated-users">Redirecting users to index page for authenticated users</h2><p>Next, we'll redirect all the users to the <a href="http://localhost:3000/" target="_blank" rel="nofollow noopener noreferrer">index</a> page if there is a token present and the user visited the <a href="http://localhost:3000/sign-up" target="_blank" rel="nofollow noopener noreferrer">sign up</a> page:</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #ADBAC7">SignUp.</span><span style="color: #DCBDFB">getInitialProps</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> (</span><span style="color: #F69D50">ctx</span><span style="color: #ADBAC7">) </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">isAuthenticated</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">!!</span><span style="color: #DCBDFB">parseCookies</span><span style="color: #ADBAC7">(ctx).token;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #768390">// When the user is authenticated, don&#39;t let the user visit the</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #768390">// sign-in and sign-up routes</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">if</span><span style="color: #ADBAC7"> (isAuthenticated </span><span style="color: #F47067">&amp;&amp;</span><span style="color: #ADBAC7"> [</span><span style="color: #96D0FF">&quot;/sign-up&quot;</span><span style="color: #ADBAC7">, </span><span style="color: #96D0FF">&quot;/sign-in&quot;</span><span style="color: #ADBAC7">].</span><span style="color: #DCBDFB">indexOf</span><span style="color: #ADBAC7">(ctx.asPath) </span><span style="color: #F47067">&gt;</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">-</span><span style="color: #6CB6FF">1</span><span style="color: #ADBAC7">) {</span></span>
<span class="line"><span style="color: #ADBAC7">    </span><span style="color: #F47067">if</span><span style="color: #ADBAC7"> (</span><span style="color: #F47067">typeof</span><span style="color: #ADBAC7"> window </span><span style="color: #F47067">!==</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;undefined&quot;</span><span style="color: #ADBAC7">) {</span></span>
<span class="line"><span style="color: #ADBAC7">      Router.</span><span style="color: #DCBDFB">push</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;/&quot;</span><span style="color: #ADBAC7">);</span></span>
<span class="line"><span style="color: #ADBAC7">    } </span><span style="color: #F47067">else</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">      </span><span style="color: #F47067">if</span><span style="color: #ADBAC7"> (ctx.res) {</span></span>
<span class="line"><span style="color: #ADBAC7">        ctx.res.</span><span style="color: #DCBDFB">writeHead</span><span style="color: #ADBAC7">(</span><span style="color: #6CB6FF">301</span><span style="color: #ADBAC7">, {</span></span>
<span class="line"><span style="color: #ADBAC7">          Location: </span><span style="color: #96D0FF">&quot;/&quot;</span><span style="color: #ADBAC7">,</span></span>
<span class="line"><span style="color: #ADBAC7">        });</span></span>
<span class="line"><span style="color: #ADBAC7">        ctx.res.</span><span style="color: #DCBDFB">end</span><span style="color: #ADBAC7">();</span></span>
<span class="line"><span style="color: #ADBAC7">      }</span></span>
<span class="line"><span style="color: #ADBAC7">    }</span></span>
<span class="line"><span style="color: #ADBAC7">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">return</span><span style="color: #ADBAC7"> {};</span></span>
<span class="line"><span style="color: #ADBAC7">};</span></span></code></pre><h2 id="adding-the-option-to-unauthenticate-a-user">Adding the option to unauthenticate a user</h2><p>We just need to add the option to log a user our. We'll add a button on the <code>Nav</code> component:</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #ADBAC7">  ..</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> { destroyCookie } </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;nookies&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> Router </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;next/router&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  ..</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">handleSignOut</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> () </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #DCBDFB">destroyCookie</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;&quot;</span><span style="color: #ADBAC7">, </span><span style="color: #96D0FF">&quot;token&quot;</span><span style="color: #ADBAC7">);</span></span>
<span class="line"><span style="color: #ADBAC7">  Router.</span><span style="color: #DCBDFB">push</span><span style="color: #ADBAC7">(</span><span style="color: #96D0FF">&quot;/sign-up&quot;</span><span style="color: #ADBAC7">);</span></span>
<span class="line"><span style="color: #ADBAC7">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">const</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">Nav</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">=</span><span style="color: #ADBAC7"> () </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> (</span></span>
<span class="line"><span style="color: #ADBAC7">  &lt;</span><span style="color: #8DDB8C">nav</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">    &lt;</span><span style="color: #8DDB8C">ul</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">      ..</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">      &lt;</span><span style="color: #8DDB8C">li</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">        &lt;</span><span style="color: #8DDB8C">button</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">onClick</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{handleSignOut}&gt;Log out&lt;/</span><span style="color: #8DDB8C">button</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">      &lt;/</span><span style="color: #8DDB8C">li</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">    &lt;/</span><span style="color: #8DDB8C">ul</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ADBAC7">  ..</span></span></code></pre><p>The <code>handleSignOut</code> method will remove the <code>token</code> cookie and then redirect the user to the <a href="http://localhost:3000/sign-up" target="_blank" rel="nofollow noopener noreferrer">http://localhost:3000/sign-up</a> route.</p><h2 id="conclusion">Conclusion</h2><p>In this tutorial, we've learnt about how to perform authentication using Strapi and Next.js. You can refer to this <a href="https://github.com/ghoshnirmalya/product-hunt-clone-using-strapi-react-next-docker/commit/4eabb5fb317f8d8e58bdf2b91819d5ee8c4d98db" target="_blank" rel="nofollow noopener noreferrer">commit</a> for all the changes in this tutorial. I hope that this article helps you in your future projects.</p>

	</article>
</body></html>