<!DOCTYPE html>
<html lang="en">

<head>
	<title>What is Incremental Static Re-generation in Next.js</title>

	<link rel="icon" type="image/x-icon" href="https://nirmalyaghosh.com/images/common/favicon.svg">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="title" content="What is Incremental Static Re-generation in Next.js">
	<meta name="description" content="Learn what Incremental Static Re-generation is and how to use it to build fast Next.js applications.">
	<meta name="keywords" content="engineering, software, code">
	<meta name="robots" content="index, follow">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="language" content="English">
	<meta name="author" content="Nirmalya Ghosh">

	<meta property="og:type" content="website">
	<meta property="og:url" content="https://www.nirmalyaghosh.com">
	<meta property="og:title" content="What is Incremental Static Re-generation in Next.js">
	<meta property="og:description" content="Learn what Incremental Static Re-generation is and how to use it to build fast Next.js applications.">
	<meta property="og:image" content="https://nirmalyaghosh.com/images/common/seo-cover.png">

	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://www.nirmalyaghosh.com">
	<meta property="twitter:title" content="Nirmalya Ghosh">
	<meta property="twitter:description" content="Learn what Incremental Static Re-generation is and how to use it to build fast Next.js applications.">
	<meta property="twitter:image" content="https://nirmalyaghosh.com/images/common/seo-cover.png">
<link rel="stylesheet" href="/assets/523a4829.4a78f79c.css" /><script>!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[])})(window,'partytown','forward');/* Partytown 0.4.5 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,p,l){function u(){l||(l=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(w,1e4),e.addEventListener("pt0",f),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):w())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.4.5":"sandbox-sw.html?"+Date.now()),e.body.appendChild(c)}function w(t,n){for(f(),t=0;t<s.length;t++)(n=e.createElement("script")).innerHTML=s[t].innerHTML,e.head.appendChild(n);c&&c.parentNode.removeChild(c)}function f(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){p=t,e.split(".").map((function(e,n,i){p=p[i[n]]=n+1<i.length?"push"==i[n+1]?[]:p[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script></head>

<body class=" space-y-8">
	<nav class="p-4 max-w-2xl mx-auto w-full flex justify-between items-center">
  <div class="space-x-4">
    <a href="/" class="py-2 px-4 bg-black text-white text-sm no-underline rounded">/</a>
    <a href="/projects" class="text-sm text-black">/projects</a>
    <a href="/articles" class="text-sm text-black">/articles</a>
  </div>
  <div>
    <a href="https://twitter.com/NirmalyaGhosh_" target="_blank" class="py-2 px-4 bg-black text-white text-sm no-underline rounded">Follow</a>
  </div>
</nav>
	<article class="p-4 max-w-2xl mx-auto prose prose-a:text-blue-600 hover:prose-a:text-blue-500 prose-a:no-underline prose-img:rounded-md prose-pre:border prose-pre:text-sm prose-pre:leading-6 prose-code:font-normal">
		<h1>What is Incremental Static Re-generation in Next.js</h1>
		<h2>Learn what Incremental Static Re-generation is and how to use it to build fast Next.js applications.</h2>

		<p>If you update the content of a page, you will again have to build and deploy your Next.js application for the new content to appear. This is be cause, once the HTML of the page is generated during the build time, the HTML content is not updated until the next build.</p><p>Next.js provides a functionality called Incremental Static Regeneration (or ISR) through which you can re-generate the HTML of your static pages withouth rebuilding your entire site.</p><h2 id="what-is-incremental-static-regeneration">What is Incremental Static Regeneration?</h2><p><a href="https://nirmalyaghosh.com/articles/getting-started-with-next.js" target="_blank" rel="nofollow noopener noreferrer">In a previous post</a>, I had mentioned about <a href="https://nirmalyaghosh.com/articles/getting-started-with-next.js#incremental-static-regeneration-isr" target="_blank" rel="nofollow noopener noreferrer">Incremental Static Regeneration</a>. In this post, you will learn about ISR in more details.</p><p>In a Next.js application, you can use ISR to re-generate the HTML content on a per-page basis by setting the <code>revalidate</code> property inside your <code>getStaticProps</code> function.</p><p>Let's consider the following example of a Next.js page with the <code>getStaticProps</code> function:</p><pre class="astro-code" style="background-color: #22272e; overflow-x: auto;"><code><span class="line"><span style="color: #768390">// Just a simple JSON file which has the `sections` key.</span></span>
<span class="line"><span style="color: #F47067">import</span><span style="color: #ADBAC7"> sections </span><span style="color: #F47067">from</span><span style="color: #ADBAC7"> </span><span style="color: #96D0FF">&quot;../data.json&quot;</span><span style="color: #ADBAC7">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">export</span><span style="color: #F69D50"> </span><span style="color: #F47067">default</span><span style="color: #F69D50"> </span><span style="color: #F47067">function</span><span style="color: #F69D50"> </span><span style="color: #DCBDFB">LandingPage</span><span style="color: #F69D50">({ sections }) </span><span style="color: #ADBAC7">{</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">return</span><span style="color: #ADBAC7"> (</span></span>
<span class="line"><span style="color: #ADBAC7">    &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">      {sections.</span><span style="color: #DCBDFB">map</span><span style="color: #ADBAC7">((</span><span style="color: #F69D50">section</span><span style="color: #ADBAC7">) </span><span style="color: #F47067">=&gt;</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">        </span><span style="color: #F47067">return</span><span style="color: #ADBAC7"> (</span></span>
<span class="line"><span style="color: #ADBAC7">          &lt;</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7"> </span><span style="color: #6CB6FF">key</span><span style="color: #F47067">=</span><span style="color: #ADBAC7">{section.id}&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;</span><span style="color: #8DDB8C">h2</span><span style="color: #ADBAC7">&gt;{section.heading}&lt;/</span><span style="color: #8DDB8C">h2</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">            &lt;</span><span style="color: #8DDB8C">p</span><span style="color: #ADBAC7">&gt;{section.description}&lt;/</span><span style="color: #8DDB8C">p</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">          &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">        );</span></span>
<span class="line"><span style="color: #ADBAC7">      })}</span></span>
<span class="line"><span style="color: #ADBAC7">    &lt;/</span><span style="color: #8DDB8C">div</span><span style="color: #ADBAC7">&gt;</span></span>
<span class="line"><span style="color: #ADBAC7">  );</span></span>
<span class="line"><span style="color: #ADBAC7">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F47067">export</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">async</span><span style="color: #ADBAC7"> </span><span style="color: #F47067">function</span><span style="color: #ADBAC7"> </span><span style="color: #DCBDFB">getStaticProps</span><span style="color: #ADBAC7">() {</span></span>
<span class="line"><span style="color: #ADBAC7">  </span><span style="color: #F47067">return</span><span style="color: #ADBAC7"> {</span></span>
<span class="line"><span style="color: #ADBAC7">    props: {</span></span>
<span class="line"><span style="color: #ADBAC7">      </span><span style="color: #768390">// This file was imported on line 2</span></span>
<span class="line"><span style="color: #ADBAC7">      sections,</span></span>
<span class="line"><span style="color: #ADBAC7">    },</span></span>
<span class="line"><span style="color: #ADBAC7">    revalidate: </span><span style="color: #6CB6FF">100</span><span style="color: #ADBAC7">,</span></span>
<span class="line"><span style="color: #ADBAC7">  };</span></span>
<span class="line"><span style="color: #ADBAC7">}</span></span></code></pre><p>The <code>getStaticProps</code> function on line 19 is called during the build time. It is called only on the server side. If the <code>revalidate</code> key is returned from the <code>getStaticProps</code> function, then that function is called at most once after the time (in seconds) has passed.</p><div class="p-4 bg-gray-100 rounded">
  <p>There is another example on <a href="https://nextjs.org/docs/basic-features/data-fetching#incremental-static-regeneration" target="_blank" rel="nofollow noopener noreferrer">this
page</a>
which also shows how the
<a href="https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation" target="_blank" rel="nofollow noopener noreferrer"><code>getStaticPaths</code></a>
function works inside ISR.</p>
</div><p>The re-generation of the page happens in the background. Based on the availability
of the new content, the cache is invalidated.</p><h2 id="conclusion">Conclusion</h2><p>Using ISR, we can use a static yet dynamic system of generating content and invalidating cache based on your requirements. When you are building a static blog using markdown files, this might not be very useful. But, when you are fetching data from a CMS and want to always render updated content on you application, you can use ISR.</p><p>You can of course use the SSR capabilities of Next.js. But, using ISR, you will generate pages which are static and can be cached. Using SSR, new data will always be fetched on the server.</p>

	</article>
</body></html>